CREATE TABLE fertilizer (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, price FLOAT(18, 2) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE field (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, prev_plant_id BIGINT, width BIGINT NOT NULL, length BIGINT NOT NULL, ground_type_id BIGINT, heaven_id BIGINT, INDEX prev_plant_id_idx (prev_plant_id), INDEX ground_type_id_idx (ground_type_id), INDEX heaven_id_idx (heaven_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE ground_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE heaven (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE plant (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, seed_price BIGINT NOT NULL, price FLOAT(18, 2) NOT NULL, fertilizer_mass BIGINT NOT NULL, seeding_rate BIGINT NOT NULL, growing_rate BIGINT NOT NULL, fuel BIGINT NOT NULL, man_hours BIGINT NOT NULL, fertilizer_id BIGINT, INDEX fertilizer_id_idx (fertilizer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE plant_relation (id BIGINT AUTO_INCREMENT, value BIGINT NOT NULL, prev_plant_id BIGINT, next_plant_id BIGINT, INDEX prev_plant_id_idx (prev_plant_id), INDEX next_plant_id_idx (next_plant_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE plant__ground (plant_id BIGINT, ground_id BIGINT, PRIMARY KEY(plant_id, ground_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE plant__heaven (plant_id BIGINT, heaven_id BIGINT, PRIMARY KEY(plant_id, heaven_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
CREATE TABLE settings (id BIGINT AUTO_INCREMENT, name VARCHAR(255), value VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = INNODB;
ALTER TABLE field ADD CONSTRAINT field_prev_plant_id_plant_id FOREIGN KEY (prev_plant_id) REFERENCES plant(id);
ALTER TABLE field ADD CONSTRAINT field_heaven_id_heaven_id FOREIGN KEY (heaven_id) REFERENCES heaven(id);
ALTER TABLE field ADD CONSTRAINT field_ground_type_id_ground_type_id FOREIGN KEY (ground_type_id) REFERENCES ground_type(id);
ALTER TABLE plant ADD CONSTRAINT plant_fertilizer_id_fertilizer_id FOREIGN KEY (fertilizer_id) REFERENCES fertilizer(id);
ALTER TABLE plant_relation ADD CONSTRAINT plant_relation_prev_plant_id_plant_id FOREIGN KEY (prev_plant_id) REFERENCES plant(id) ON DELETE CASCADE;
ALTER TABLE plant_relation ADD CONSTRAINT plant_relation_next_plant_id_plant_id FOREIGN KEY (next_plant_id) REFERENCES plant(id) ON DELETE CASCADE;
ALTER TABLE plant__ground ADD CONSTRAINT plant__ground_plant_id_plant_id FOREIGN KEY (plant_id) REFERENCES plant(id) ON DELETE CASCADE;
ALTER TABLE plant__ground ADD CONSTRAINT plant__ground_ground_id_ground_type_id FOREIGN KEY (ground_id) REFERENCES ground_type(id) ON DELETE CASCADE;
ALTER TABLE plant__heaven ADD CONSTRAINT plant__heaven_plant_id_plant_id FOREIGN KEY (plant_id) REFERENCES plant(id) ON DELETE CASCADE;
ALTER TABLE plant__heaven ADD CONSTRAINT plant__heaven_heaven_id_heaven_id FOREIGN KEY (heaven_id) REFERENCES heaven(id) ON DELETE CASCADE;
